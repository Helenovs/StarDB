{"ast":null,"code":"import _regeneratorRuntime from \"/Users/elena/Documents/GA/REACT/star-db/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/elena/Documents/GA/REACT/star-db/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/elena/Documents/GA/REACT/star-db/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\n\nvar SwapiService = function SwapiService() {\n  var _this = this;\n\n  _classCallCheck(this, SwapiService);\n\n  this._apiBase = 'https://swapi.co/api';\n\n  this.getResource =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(url) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"\".concat(_this._apiBase).concat(url));\n\n            case 2:\n              res = _context.sent;\n\n              if (res.ok) {\n                _context.next = 5;\n                break;\n              }\n\n              throw new Error(\"Could not fetch \".concat(url) + \", received \".concat(res.status));\n\n            case 5:\n              _context.next = 7;\n              return res.json();\n\n            case 7:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  this.getAllPeople =\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2() {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _this.getResource(\"/people/\");\n\n          case 2:\n            res = _context2.sent;\n            return _context2.abrupt(\"return\", res.results.map(_this._transformPerson));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  this.getPerson =\n  /*#__PURE__*/\n  function () {\n    var _ref3 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3(id) {\n      var person;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _this.getResource(\"/people/\".concat(id, \"/\"));\n\n            case 2:\n              person = _context3.sent;\n              return _context3.abrupt(\"return\", _this._transformPerson(person));\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  this.getAllPlanets =\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee4() {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _this.getResource(\"/planets/\");\n\n          case 2:\n            res = _context4.sent;\n            return _context4.abrupt(\"return\", res.results.map(_this._transformPlanet));\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  this.getPlanet =\n  /*#__PURE__*/\n  function () {\n    var _ref5 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5(id) {\n      var planet;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return _this.getResource(\"/planets/\".concat(id, \"/\"));\n\n            case 2:\n              planet = _context5.sent;\n              return _context5.abrupt(\"return\", _this._transformPlanet(planet));\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x3) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  this.getAllStarShip =\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee6() {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return _this.getResource(\"/starships/\");\n\n          case 2:\n            res = _context6.sent;\n            return _context6.abrupt(\"return\", res.results);\n\n          case 4:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  this.getStarShip =\n  /*#__PURE__*/\n  function () {\n    var _ref7 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee7(id) {\n      var starShip;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return _this.getResource(\"/starships/\".concat(id, \"/\"));\n\n            case 2:\n              starShip = _context7.sent;\n              return _context7.abrupt(\"return\", _this._transformStarShip(starShip));\n\n            case 4:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function (_x4) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  this._extractId = function (item) {\n    var idRegExp = /\\/([0-9]*)\\/$/;\n    return item.url.match(idRegExp)[1];\n  };\n\n  this._transformPlanet = function (planet) {\n    return {\n      id: _this._extractId(planet),\n      name: planet.name,\n      population: planet.population,\n      rotationPeriod: planet.rotation_period,\n      diameter: planet.diameter\n    };\n  };\n\n  this._transformPerson = function (person) {\n    return {\n      id: _this._extractId(person),\n      name: person.name,\n      gender: person.gender,\n      birthYear: person.birth_year,\n      eyeColor: person.eye_color\n    };\n  };\n\n  this._transformStarShip = function (starship) {\n    return {\n      id: _this._extractId(starship),\n      name: starship.name,\n      model: starship.model,\n      manufacturer: starship.manufacturer,\n      costInCredits: starship.cost_in_credits,\n      length: starship.length,\n      crew: starship.crew,\n      passengers: starship.passengers,\n      cargoCapacity: starship.cargo_capacity\n    };\n  };\n}; // const swapi = new SwapiService();\n// swapi.getAllPeople().then((people) => {\n//   // console.log(people);\n//   people.forEach((p) => {\n//     console.log(p.name);\n//   })\n// });\n//\n// swapi.getPerson(Math.floor(Math.random()*25)+2).then((p) => {\n//     console.log(\"Person\", p);\n// });\n//\n// swapi.getStarShip(Math.floor(Math.random()*25)+2).then((p) => {\n//     console.log(\"StarShip\", p);\n// });\n\n\nexport { SwapiService as default };","map":{"version":3,"sources":["/Users/elena/Documents/GA/REACT/star-db/src/services/swapi-service.js"],"names":["SwapiService","_apiBase","getResource","url","fetch","res","ok","Error","status","json","getAllPeople","results","map","_transformPerson","getPerson","id","person","getAllPlanets","_transformPlanet","getPlanet","planet","getAllStarShip","getStarShip","starShip","_transformStarShip","_extractId","item","idRegExp","match","name","population","rotationPeriod","rotation_period","diameter","gender","birthYear","birth_year","eyeColor","eye_color","starship","model","manufacturer","costInCredits","cost_in_credits","length","crew","passengers","cargoCapacity","cargo_capacity"],"mappings":";;;;IAAqBA,Y;;;;;OACnBC,Q,GAAW,sB;;OACXC,W;;;;;6BAAa,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACOC,KAAK,WAAI,KAAI,CAACH,QAAT,SAAoBE,GAApB,EADZ;;AAAA;AACLE,cAAAA,GADK;;AAAA,kBAENA,GAAG,CAACC,EAFE;AAAA;AAAA;AAAA;;AAAA,oBAGH,IAAIC,KAAJ,CAAU,0BAAmBJ,GAAnB,yBAAyCE,GAAG,CAACG,MAA7C,CAAV,CAHG;;AAAA;AAAA;AAAA,qBAKEH,GAAG,CAACI,IAAJ,EALF;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;;OAObC,Y;;;;2BAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACK,KAAI,CAACR,WAAL,YADL;;AAAA;AACPG,YAAAA,GADO;AAAA,8CAENA,GAAG,CAACM,OAAJ,CAAYC,GAAZ,CAAgB,KAAI,CAACC,gBAArB,CAFM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;OAKfC,S;;;;;6BAAY,kBAAMC,EAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACW,KAAI,CAACb,WAAL,mBAA4Ba,EAA5B,OADX;;AAAA;AACJC,cAAAA,MADI;AAAA,gDAEH,KAAI,CAACH,gBAAL,CAAsBG,MAAtB,CAFG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;;OAKZC,a;;;;2BAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACI,KAAI,CAACf,WAAL,aADJ;;AAAA;AACRG,YAAAA,GADQ;AAAA,8CAEPA,GAAG,CAACM,OAAJ,CAAYC,GAAZ,CAAgB,KAAI,CAACM,gBAArB,CAFO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;OAIhBC,S;;;;;6BAAY,kBAAMJ,EAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACW,KAAI,CAACb,WAAL,oBAA6Ba,EAA7B,OADX;;AAAA;AACJK,cAAAA,MADI;AAAA,gDAEH,KAAI,CAACF,gBAAL,CAAsBE,MAAtB,CAFG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;;OAKZC,c;;;;2BAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACG,KAAI,CAACnB,WAAL,eADH;;AAAA;AACTG,YAAAA,GADS;AAAA,8CAERA,GAAG,CAACM,OAFI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;OAIjBW,W;;;;;6BAAc,kBAAMP,EAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACW,KAAI,CAACb,WAAL,sBAA+Ba,EAA/B,OADX;;AAAA;AACNQ,cAAAA,QADM;AAAA,gDAEL,KAAI,CAACC,kBAAL,CAAwBD,QAAxB,CAFK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;;OAIdE,U,GAAa,UAACC,IAAD,EAAU;AACrB,QAAMC,QAAQ,GAAG,eAAjB;AACA,WAAOD,IAAI,CAACvB,GAAL,CAASyB,KAAT,CAAeD,QAAf,EAAyB,CAAzB,CAAP;AACD,G;;OACDT,gB,GAAmB,UAACE,MAAD,EAAY;AAC7B,WAAO;AACLL,MAAAA,EAAE,EAAE,KAAI,CAACU,UAAL,CAAgBL,MAAhB,CADC;AAELS,MAAAA,IAAI,EAAET,MAAM,CAACS,IAFR;AAGLC,MAAAA,UAAU,EAAEV,MAAM,CAACU,UAHd;AAILC,MAAAA,cAAc,EAAEX,MAAM,CAACY,eAJlB;AAKLC,MAAAA,QAAQ,EAAEb,MAAM,CAACa;AALZ,KAAP;AAOD,G;;OAEDpB,gB,GAAmB,UAACG,MAAD,EAAY;AAC7B,WAAO;AACLD,MAAAA,EAAE,EAAE,KAAI,CAACU,UAAL,CAAgBT,MAAhB,CADC;AAELa,MAAAA,IAAI,EAAEb,MAAM,CAACa,IAFR;AAGLK,MAAAA,MAAM,EAAElB,MAAM,CAACkB,MAHV;AAILC,MAAAA,SAAS,EAAEnB,MAAM,CAACoB,UAJb;AAKLC,MAAAA,QAAQ,EAAErB,MAAM,CAACsB;AALZ,KAAP;AAOD,G;;OAEDd,kB,GAAqB,UAACe,QAAD,EAAc;AACjC,WAAO;AACLxB,MAAAA,EAAE,EAAE,KAAI,CAACU,UAAL,CAAgBc,QAAhB,CADC;AAELV,MAAAA,IAAI,EAAEU,QAAQ,CAACV,IAFV;AAGLW,MAAAA,KAAK,EAAED,QAAQ,CAACC,KAHX;AAILC,MAAAA,YAAY,EAAEF,QAAQ,CAACE,YAJlB;AAKLC,MAAAA,aAAa,EAAEH,QAAQ,CAACI,eALnB;AAMLC,MAAAA,MAAM,EAAEL,QAAQ,CAACK,MANZ;AAOLC,MAAAA,IAAI,EAAEN,QAAQ,CAACM,IAPV;AAQLC,MAAAA,UAAU,EAAEP,QAAQ,CAACO,UARhB;AASLC,MAAAA,aAAa,EAAER,QAAQ,CAACS;AATnB,KAAP;AAWD,G;GAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;SAxFqBhD,Y","sourcesContent":["export default class SwapiService {\n  _apiBase = 'https://swapi.co/api';\n  getResource= async(url) => {\n    const res = await fetch(`${this._apiBase}${url}`);\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${url}` + `, received ${res.status}`)\n    }\n    return await res.json();\n  }\n  getAllPeople = async() => {\n    const res = await this.getResource(`/people/`);\n    return res.results.map(this._transformPerson);;\n    // return res.results.map(this._transformPerson);\n  };\n  getPerson = async(id) => {\n    const person = await this.getResource(`/people/${id}/`);\n    return this._transformPerson(person);\n  };\n\n  getAllPlanets = async() => {\n    const res = await this.getResource(`/planets/`);\n    return res.results.map(this._transformPlanet);\n  };\n  getPlanet = async(id) => {\n    const planet = await this.getResource(`/planets/${id}/`);\n    return this._transformPlanet(planet);\n  };\n\n  getAllStarShip = async() => {\n    const res = await this.getResource(`/starships/`);\n    return res.results;\n  };\n  getStarShip = async(id) => {\n    const starShip = await this.getResource(`/starships/${id}/`);\n    return this._transformStarShip(starShip);\n  };\n  _extractId = (item) => {\n    const idRegExp = /\\/([0-9]*)\\/$/;\n    return item.url.match(idRegExp)[1];\n  };\n  _transformPlanet = (planet) => {\n    return({\n      id: this._extractId(planet),\n      name: planet.name,\n      population: planet.population,\n      rotationPeriod: planet.rotation_period,\n      diameter: planet.diameter\n    });\n  }\n\n  _transformPerson = (person) => {\n    return({\n      id: this._extractId(person),\n      name: person.name,\n      gender: person.gender,\n      birthYear: person.birth_year,\n      eyeColor: person.eye_color\n    });\n  }\n\n  _transformStarShip = (starship) => {\n    return({\n      id: this._extractId(starship),\n      name: starship.name,\n      model: starship.model,\n      manufacturer: starship.manufacturer,\n      costInCredits: starship.cost_in_credits,\n      length: starship.length,\n      crew: starship.crew,\n      passengers: starship.passengers,\n      cargoCapacity: starship.cargo_capacity\n    });\n  }\n}\n// const swapi = new SwapiService();\n// swapi.getAllPeople().then((people) => {\n//   // console.log(people);\n//   people.forEach((p) => {\n//     console.log(p.name);\n//   })\n// });\n//\n// swapi.getPerson(Math.floor(Math.random()*25)+2).then((p) => {\n//     console.log(\"Person\", p);\n// });\n//\n// swapi.getStarShip(Math.floor(Math.random()*25)+2).then((p) => {\n//     console.log(\"StarShip\", p);\n// });\n"]},"metadata":{},"sourceType":"module"}